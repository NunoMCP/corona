{"version":3,"sources":["components/DataShow.js","history.js","api/corona.js","actions/index.js","components/DataSelect.js","components/DataList.js","components/Sidebar.js","components/About.js","components/App.js","reducers/dataReducer.js","reducers/index.js","index.js"],"names":["dataShow","props","className","this","icon","text","value","React","Component","createBrowserHistory","axios","create","baseURL","headers","Accept","indexStartDate","Date","indexCurrentDate","indexValue","Math","floor","getTime","DataSelect","onSubmit","values","console","log","history","push","county","formRenderHelper","onChange","handleSubmit","name","component","counties","map","getCounties","render","DataList","connect","state","data","dispatch","a","corona","get","response","type","payload","today","dd","getDate","ddBefore","mm","getMonth","yyyy","getFullYear","yesterday","getBeforeData","getData","arg","isMoreGood","isMoreThanZero","todayIndex","yesterdayIndex","calcValue","prefix","customClassString","style","display","marginTop","DataShow","valueHelper","date","index","Sidebar","to","About","textAlign","App","toggleSidebar","window","$","sidebar","onClick","path","exact","reducerSwitch","action","combineReducers","dataReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.1e55937f.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nclass dataShow extends React.Component{\r\n\r\n    render(props){\r\n        return(\r\n            <div className=\"column\">\r\n                <h2 className=\"ui center aligned icon header\">\r\n                    <i className={`icon ${this.props.icon}`}></i>\r\n                    {this.props.text}{this.props.value}<br/>\r\n                </h2>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default dataShow","import {createBrowserHistory} from \"history\"\r\nexport default createBrowserHistory()","import axios from \"axios\"\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://covid19-api.vost.pt/Requests/\",\r\n    headers: {\r\n        Accept: \"*/*\",\r\n    }\r\n})","import corona from \"../api/corona\"\r\n\r\n//dia 0\r\nconst indexStartDate = new Date(\"02/27/2020\")\r\nconst indexCurrentDate = new Date()\r\nconst indexValue = Math.floor((indexCurrentDate.getTime() - indexStartDate.getTime())/(1000*3600*24))\r\n\r\nexport const getData = (date) => {\r\n    return async (dispatch) => {\r\n        const response = await corona.get(\"get_entry/\" + date)\r\n        dispatch({\r\n            type: \"GET_DATA\",\r\n            payload: response.data,\r\n            index: indexValue\r\n        })\r\n    }\r\n}\r\n\r\nexport const getBeforeData = (date) => {\r\n    return async (dispatch) => {\r\n        const response = await corona.get(\"get_entry/\" + date)\r\n        dispatch({\r\n            type: \"GET_BEFORE_DATA\",\r\n            payload: response.data,\r\n            index: indexValue - 1\r\n        })\r\n    }\r\n}\r\n\r\nexport const getCounties = () => {\r\n    return async (dispatch) => {\r\n        const response = await corona.get(\"get_county_list/\")\r\n        dispatch({\r\n            type: \"GET_COUNTIES\",\r\n            payload: response.data\r\n        })\r\n    }\r\n}\r\n","import React from \"react\"\r\nimport { Form, Field } from \"react-final-form\"\r\nimport { connect } from \"react-redux\"\r\n\r\nimport history from \"../history\"\r\nimport { getCounties } from \"../actions\"\r\n\r\nclass DataSelect extends React.Component{\r\n    componentDidMount(){\r\n        this.props.getCounties()\r\n    }\r\n\r\n    onSubmit = values => {\r\n        console.log(values)\r\n        history.push(\"/county/\"+values.county)\r\n    }\r\n\r\n    formRenderHelper = props => {\r\n        return(\r\n            <form onChange={props.handleSubmit}>\r\n                <div>\r\n                    <label>Concelhos:</label>\r\n                    <Field name=\"county\" component=\"select\">\r\n                        <option/>\r\n                        {this.props.counties.map(county => <option key={county} value={county}>{county}</option>)}\r\n                    </Field>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.counties){\r\n            return <div>Loading...</div>\r\n        }\r\n        else return(\r\n            <Form\r\n            onSubmit={this.onSubmit}\r\n            render={this.formRenderHelper}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        counties: state.data.counties\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getCounties})(DataSelect)","import \"./DataList.css\"\r\n\r\nimport React from \"react\"\r\nimport DataShow from \"../components/DataShow\"\r\nimport DataSelect from \"../components/DataSelect\"\r\nimport { getData, getBeforeData } from \"../actions\"\r\nimport { connect } from \"react-redux\"\r\n\r\nclass DataList extends React.Component {\r\n    componentDidMount(){\r\n        var today = new Date()\r\n        //O API só dá update à meia noite por isso é necessário realizar getDate()-1\r\n        var dd = today.getDate()-1\r\n        var ddBefore = today.getDate()-2\r\n        var mm = today.getMonth()+1\r\n        var yyyy = today.getFullYear()\r\n        if(dd<10) \r\n        {\r\n            dd='0'+dd\r\n            ddBefore='0'+ddBefore\r\n        } \r\n        if(mm<10) \r\n        {\r\n            mm='0'+mm\r\n        } \r\n        today = dd+'-'+mm+'-'+yyyy\r\n        var yesterday = ddBefore+'-'+mm+'-'+yyyy\r\n        this.props.getBeforeData(yesterday)\r\n        this.props.getData(today)\r\n    }\r\n\r\n    valueHelper(arg, isMoreGood) {\r\n        let isMoreThanZero = (this.props.data.today[arg][this.props.data.todayIndex] - this.props.data.yesterday[arg][this.props.data.yesterdayIndex]) > -1\r\n        let value = this.props.data.today[arg][this.props.data.todayIndex]\r\n        let calcValue = value - this.props.data.yesterday[arg][this.props.data.yesterdayIndex]\r\n        let prefix = calcValue > -1 ? \"+\" : \"\"\r\n\r\n        let customClassString = isMoreGood && isMoreThanZero ? \"green\" : !isMoreGood && isMoreThanZero ? \"red\" : \"green\"\r\n\r\n        return (\r\n            <div>\r\n                <h3 style={{display: \"inline\"}}>{value}</h3>\r\n                <h3 className={customClassString} style={{display: \"inline\"}}>({prefix + calcValue})</h3>\r\n            </div>\r\n        )\r\n    }\r\n    render(){\r\n        if(!this.props.data.today || !this.props.data.yesterday){\r\n            return <div>Loading...</div>\r\n        }\r\n        else return(\r\n            <div style={{marginTop: \"55px\"}} className=\"ui stackable three column grid container\">\r\n                <DataShow text=\"Ativos: \" icon=\"head side cough\" value={this.valueHelper(\"ativos\", false)}/>\r\n                <DataShow text=\"Confirmados: \" icon=\"viruses\" value={this.valueHelper(\"confirmados\", false)}/>\r\n                <DataShow text=\"Recuperados: \" icon=\"clinic medical\" value={this.valueHelper(\"recuperados\", true)}/>\r\n                <DataShow text=\"Óbitos: \"icon=\"skull crossbones\" value={this.valueHelper(\"obitos\", false)}/>\r\n                <DataShow text=\"Internados\" icon=\"first aid\" value={this.valueHelper(\"internados\", false)}/>\r\n                <DataShow text=\"Internados em UCI\" icon=\"procedures\" value={this.valueHelper(\"internados_uci\", false)}/>\r\n                <DataShow text=\"Internados em enfermaria\" icon=\"user nurse\" value={this.valueHelper(\"internados_enfermaria\", false)}/>\r\n                <DataShow text=\"Data: \" icon=\"time\" value={this.props.data.today.data[this.props.data.todayIndex]}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        data: state.data\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { getData, getBeforeData })(DataList)","import React from \"react\"\r\n\r\nimport { Link } from \"react-router-dom\"\r\n\r\nclass Sidebar extends React.Component {\r\n    render(){\r\n        return(\r\n            <div className=\"thin ui left vertical inverted sidebar labeled icon menu overlay\" style={{\"zIndex\": \"999\"}}>\r\n                <Link to=\"/corona\" className=\"item\">CORONA TRACKER</Link>\r\n                <br/>\r\n                <Link to=\"/corona/about\" className=\"item\">Sobre</Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Sidebar","import React from \"react\"\r\n\r\nclass About extends React.Component{\r\n    render(){\r\n        return(\r\n            <div style={{textAlign: \"center\"}}>Feito com React e Redux, juntamente com o COVID-19 REST API da VOSTPT.</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default About","import React from \"react\"\r\nimport {Router, Route} from \"react-router-dom\"\r\n\r\nimport DataList from \"./DataList\"\r\nimport Sidebar from \"./Sidebar\"\r\nimport About from \"./About\"\r\nimport history from \"../history\"\r\n\r\nclass App extends React.Component {\r\n    toggleSidebar = () => {\r\n        window.$('.ui.sidebar').sidebar('toggle')\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <>\r\n            <Router history={history}>\r\n                <i onClick={this.toggleSidebar} className=\"plus square big outline icon\"></i>\r\n                <Sidebar/>\r\n                <Route path=\"/corona\" exact component={DataList}/>\r\n                <Route path=\"/corona/about\" component={About}/>\r\n            </Router>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App","const reducerSwitch = (state = {}, action) => {\r\n    if(action.type === \"GET_DATA\"){\r\n        return {...state, today: action.payload, todayIndex: action.index\r\n        }\r\n    } else if(action.type === \"GET_BEFORE_DATA\"){\r\n        return {...state, yesterday: action.payload, yesterdayIndex: action.index}\r\n    } else if(action.type === \"GET_COUNTIES\"){\r\n        return {...state, counties: action.payload}\r\n    } else {\r\n        return state\r\n    }\r\n}\r\n\r\nexport default reducerSwitch","import { combineReducers } from \"redux\"\r\n\r\nimport dataReducer from \"./dataReducer\"\r\n\r\nexport default combineReducers({\r\n    data: dataReducer\r\n})","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport { Provider } from \"react-redux\"\r\nimport {createStore, applyMiddleware, compose} from \"redux\"\r\nimport reduxThunk from \"redux-thunk\"\r\n\r\nimport App from \"./components/App\"\r\nimport reducers from \"./reducers\"\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(\r\n    reducers,\r\n    composeEnhancers(applyMiddleware(reduxThunk))\r\n)\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.querySelector(\"#root\")\r\n)"],"sourceRoot":""}