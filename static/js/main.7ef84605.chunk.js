(this.webpackJsonpcorona=this.webpackJsonpcorona||[]).push([[0],{49:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),s=n.n(c),o=n(17),i=n(13),u=n(39),d=n(9),l=n(10),p=n(12),j=n(11),b=n(3),h=(n(49),n(2)),O=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(e){return Object(h.jsx)("div",{className:"column",children:Object(h.jsxs)("h2",{className:"ui center aligned icon header",children:[Object(h.jsx)("i",{className:"icon ".concat(this.props.icon)}),this.props.text,this.props.value,Object(h.jsx)("br",{})]})})}}]),n}(r.a.Component),y=n(28),v=n(5),x=Object(v.a)(),f=n(14),m=n.n(f),g=n(22),_=n(40),C=n.n(_).a.create({baseURL:"https://covid19-api.vost.pt/Requests/",headers:{Accept:"*/*"}}),D=new Date("02/27/2020"),E=new Date,T=Math.floor((E.getTime()-D.getTime())/864e5),k=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(e){console.log(e),x.push("/county/"+e.county)},e.formRenderHelper=function(t){return Object(h.jsx)("form",{onChange:t.handleSubmit,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Concelhos:"}),Object(h.jsxs)(y.a,{name:"county",component:"select",children:[Object(h.jsx)("option",{}),e.props.counties.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})]})})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getCounties()}},{key:"render",value:function(){return this.props.counties?Object(h.jsx)(y.b,{onSubmit:this.onSubmit,render:this.formRenderHelper}):Object(h.jsx)("div",{children:"Loading..."})}}]),n}(r.a.Component),w=Object(o.b)((function(e){return{counties:e.data.counties}}),{getCounties:function(){return function(){var e=Object(g.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("get_county_list/");case 2:n=e.sent,t({type:"GET_COUNTIES",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(k),A=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=new Date,t=e.getDate()-1,n=e.getDate()-2,a=e.getMonth()+1,r=e.getFullYear();t<10&&(t="0"+t,n="0"+n),a<10&&(a="0"+a),e=t+"-"+a+"-"+r;var c=n+"-"+a+"-"+r;this.props.getBeforeData(c),this.props.getData(e)}},{key:"valueHelper",value:function(e,t){var n=this.props.data.today[e][this.props.data.todayIndex]-this.props.data.yesterday[e][this.props.data.yesterdayIndex]>-1,a=this.props.data.today[e][this.props.data.todayIndex],r=a-this.props.data.yesterday[e][this.props.data.yesterdayIndex],c=r>-1?"+":"",s=t&&n?"green":!t&&n?"red":"green";return Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{style:{display:"inline"},children:a}),Object(h.jsxs)("h3",{className:s,style:{display:"inline"},children:["(",c+r,")"]})]})}},{key:"render",value:function(){return this.props.data.today&&this.props.data.yesterday?Object(h.jsxs)("div",{style:{marginTop:"55px"},className:"ui stackable three column grid container",children:[Object(h.jsx)(O,{text:"Ativos: ",icon:"head side cough",value:this.valueHelper("ativos",!1)}),Object(h.jsx)(O,{text:"Confirmados: ",icon:"viruses",value:this.valueHelper("confirmados",!1)}),Object(h.jsx)(O,{text:"Recuperados: ",icon:"clinic medical",value:this.valueHelper("recuperados",!0)}),Object(h.jsx)(O,{text:"\xd3bitos: ",icon:"skull crossbones",value:this.valueHelper("obitos",!1)}),Object(h.jsx)(O,{text:"Internados",icon:"first aid",value:this.valueHelper("internados",!1)}),Object(h.jsx)(O,{text:"Internados em UCI",icon:"procedures",value:this.valueHelper("internados_uci",!1)}),Object(h.jsx)(O,{text:"Internados em enfermaria",icon:"user nurse",value:this.valueHelper("internados_enfermaria",!1)}),Object(h.jsx)(O,{text:"Data: ",icon:"time",value:this.props.data.today.data[this.props.data.todayIndex]}),Object(h.jsx)(w,{})]}):Object(h.jsx)("div",{children:"Loading..."})}}]),n}(r.a.Component),I=Object(o.b)((function(e){return{data:e.data}}),{getData:function(e){return function(){var t=Object(g.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("get_entry/"+e);case 2:a=t.sent,n({type:"GET_DATA",payload:a.data,index:T});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getBeforeData:function(e){return function(){var t=Object(g.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("get_entry/"+e);case 2:a=t.sent,n({type:"GET_BEFORE_DATA",payload:a.data,index:T-1});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(A),N=n(21),S=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"thin ui left vertical inverted sidebar labeled icon menu overlay",style:{zIndex:"999"},children:[Object(h.jsx)(N.a,{to:"/",className:"item",children:"CORONA TRACKER"}),Object(h.jsx)("br",{}),Object(h.jsx)(N.a,{to:"/about",className:"item",children:"About"})]})}}]),n}(r.a.Component),R=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{children:"About"})}}]),n}(r.a.Component),H=function(e){Object(p.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleSidebar=function(){window.$(".ui.sidebar").sidebar("toggle")},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(b.b,{history:x,children:[Object(h.jsx)("i",{onClick:this.toggleSidebar,className:"plus square big outline icon"}),Object(h.jsx)(S,{}),Object(h.jsx)(b.a,{path:"/",exact:!0,component:I}),Object(h.jsx)(b.a,{path:"/about",component:R})]})})}}]),n}(r.a.Component),G=n(15),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"GET_DATA"===t.type?Object(G.a)(Object(G.a)({},e),{},{today:t.payload,todayIndex:t.index}):"GET_BEFORE_DATA"===t.type?Object(G.a)(Object(G.a)({},e),{},{yesterday:t.payload,yesterdayIndex:t.index}):"GET_COUNTIES"===t.type?Object(G.a)(Object(G.a)({},e),{},{counties:t.payload}):e},U=Object(i.c)({data:M}),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,F=Object(i.e)(U,B(Object(i.a)(u.a)));s.a.render(Object(h.jsx)(o.a,{store:F,children:Object(h.jsx)(H,{})}),document.querySelector("#root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.7ef84605.chunk.js.map